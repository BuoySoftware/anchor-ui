import { useState } from "react";
import { Canvas, Story } from '@storybook/addon-docs';
import { Heading } from "@buoysoftware/anchor-typography";
import { Box } from "@buoysoftware/anchor-layout";
import { AppTemplate, AppArea } from "@buoysoftware/anchor-app-template";

import { SideNavAppSwitcher, SideNav, SideNavItemsContainer, SideNavItem, SideNavFooter } from "../src";

<Meta
  title="Components / SideNav"
  component={SideNav}
  parameters={{
    layout: "fullscreen"
  }}
/>

export const Template = (args) => {
  const [currentPage, setCurrentPage] = useState("page1");
  const onClick = (e) => {
    e.preventDefault();
    const href = e.currentTarget.getAttribute("href");
    setCurrentPage(href.replace("#", ""));
  };
  return (
    <AppTemplate>
      <AppArea area="side-nav">
        <SideNav>
          <SideNavAppSwitcher triggerLabel="Centers" menuItems={[<a href="#centers">Centers</a>]}/>
          <SideNavItemsContainer>
            <SideNavItem active={currentPage === "page1"}>
              <a onClick={onClick} href="#page1">Page 1</a>
            </SideNavItem>
            <SideNavItem active={currentPage === "page2"}>
              <a onClick={onClick} href="#page2">Page 2</a>
            </SideNavItem>
          </SideNavItemsContainer>
          <SideNavFooter>
            <Heading size="s" color="white">Employee N</Heading>
          </SideNavFooter>
        </SideNav>
      </AppArea>
      <AppArea area="app-content">
        { currentPage === "page1" && <Box p="xl">Page 1</Box>}
        { currentPage === "page2" && <Box p="xl">Page 2</Box>}
      </AppArea>
    </AppTemplate>
  );
};

## Basic Usage

<Canvas>
  <Story name="SideNav" args={{}}>
    {Template.bind({})}
  </Story>
</Canvas>
